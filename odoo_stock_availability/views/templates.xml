<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="product_stock_availability">
            <field name="name">stock-availability.template</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <div name="options" position="inside">
                    <div>
                        <label for="product_availability" string="Stock Availability:"/>
                        <field name="product_availability"></field>
                    </div>
                </div>
            </field>
    </record>
    <template id="iproduct_stock_availability" inherit_id="website_sale.product">
        <xpath expr="//a[@id='add_to_cart']" position="before">
            <div>
                <t t-esc="(tuple(filter(lambda value: value[0] == product.product_availability,
                    product._fields['product_availability']._description_selection(env)))[0][1])"/>
            </div>
        </xpath>
    </template>
</odoo>

